{"version":3,"file":"grudus-timepicker.umd.js","sources":["../src/js/timeExtractor.js","../src/js/timeFormatter.js","../src/js/meta/clockHtml.js","../src/js/meta/config.js","../src/js/clockHeader.js","../src/js/face/minutesFace.js","../src/js/face/hoursFace.js","../src/js/meta/utils.js","../src/js/face/clockFaceCreator.js","../src/js/face/clockFace.js","../src/js/clock.js","../src/js/colorStylists.js","../src/js/timepickerCreator.js","../src/js/index.js"],"sourcesContent":["const hoursRegex = /^([0-1]?[0-9]|2[0-3])$/;\nconst minutesRegex = /^([0-5]?[0-9])$/;\nconst regex = /^([0-1]?[0-9]|2[0-3]):([0-5][0-9])$/;\n\nexport default function extractTime(date, hasMeridiem) {\n    if (!date)\n        return fromDate(new Date(), hasMeridiem);\n    else if (hoursRegex.test(date.hours) && minutesRegex.test(date.minutes) \n                && date.meridiem !== undefined \n                && date.meridiem.length > 0)\n        return {hours: parseInt(date.hours), minutes: parseInt(date.minutes), meridiem: date.meridiem};\n    else if (hoursRegex.test(date.hours) && minutesRegex.test(date.minutes))\n        return {hours: parseInt(date.hours), minutes: parseInt(date.minutes)};\n    else if (regex.test(date))\n        return fromRegex(date);\n    else if (date instanceof Date)\n        return fromDate(date, hasMeridiem);\n    else\n        throw new TypeError(`INVALID FORMAT: {${JSON.stringify(date)}}.\n            Time must be a Date or 'hh:MM' string or object with 'hours' and 'minutes' fields`);\n}\n\nfunction fromRegex(date) {\n    const parsed = regex.exec(date);\n    return {hours: parseInt(parsed[1]), minutes: parseInt(parsed[2])};\n}\n\nfunction fromDate(date, hasMeridiem) {\n    if (hasMeridiem !== undefined && !hasMeridiem) return {hours: date.getHours(), minutes: date.getMinutes()};\n    return getTimeWithMeridiem(date);\n\n}\n\nfunction getTimeWithMeridiem(date) {\n    let meridiem = \"\";\n    let hours = date.getHours();    \n    \n    if (hours < 13) meridiem = \"am\";\n    else meridiem = \"pm\";\n    \n    if (hours !== 12) hours = hours % 12;\n    \n    return {hours, minutes: date.getMinutes(), meridiem};\n}","import extractTime from \"./timeExtractor\";\n\nexport default function (time, hasMeridiem) {\n    const extractedTime = extractTime(time, hasMeridiem);\n    return (extractedTime.hours < 10 ? \"0\" + extractedTime.hours : extractedTime.hours)\n        + \":\" + (extractedTime.minutes < 10 ? \"0\" + extractedTime.minutes : extractedTime.minutes)\n        + \" \"+ (extractedTime.meridiem !== undefined ? extractedTime.meridiem : \"\");\n}","\nexport default (options) => {\n    const arrayTemplate = [\"<section class='g-time-wrapper'>\" ,\n        \"    <header class='g-head g-flex' id='g-head'>\" ,\n        \"        <section class='g-head-content'>\" ,\n        \"            <span class='g-current g-hour g-active g-pointer' id='g-hours'>21</span>\" ,\n        \"            <span class='g-current'>:</span>\" ,\n        \"            <span class='g-current g-minute g-pointer' id='g-minutes'>37</span>\"];\n    if (options.meridiem){\n        arrayTemplate.push([\"<div class='content-meridiem'>\" ,\n            \"<span id='g-time-am' class='item-meridiem g-am g-pointer'>AM</span>\" ,\n            \"<span id='g-time-pm' class='item-meridiem g-pm g-pointer'>PM</span>\",\n            \"</div>\"].join(\"\\n\"));\n        \n    }\n    const nextTemplate = [\"        </section>\" ,\n        \"    </header>\" ,\n        \"\" ,\n        \"\" ,\n        \"    <section class='g-clock-wrapper g-flex' id='g-clock-wrapper'>\" ,\n        \"        <div class='g-clock' id='g-clock'>\" ,\n        \"            <span class='g-middle-dot' id='g-middle-dot'></span>\" ,\n        \"            <div class='g-hand-of-a-clock' id='g-hand-of-a-clock'></div>\" ,\n        \"            <div class='g-clock g-clock-inner' id='g-clock-inner'></div>\" ,\n        \"        </div>\" ,\n        \"    </section>\" ,\n        \"\" ,\n        \"\" ,\n        \"    <footer class='g-buttons g-flex' id='g-buttons'>\"];\n\n    nextTemplate.push(`\n        <button id='g-time-cancel' class='g-button g-cancel g-pointer'>${options.labels.cancel || \"\"}</button>\n        <button id='g-time-submit' class='g-button g-submit g-pointer'>${options.labels.ok || \"\"}</button>\n    `);\n    nextTemplate.push(\"</footer> </section>\");\n    return arrayTemplate.concat(nextTemplate).join(\"\\n\");\n};","const clockId = \"grudus-clock\";\n\nconst defaultConfig = {\n    onSubmit: () => {\n    },\n    onCancel: () => {\n    },\n    headerBackground: \"#1976D2\",\n    headerColor: \"#c7d6e1\",\n    headerSelected: \"#ffffff\",\n    wrapperBackground: \"#f0fff0\",\n    footerBackground: \"#f0fff0\",\n    submitColor: \"#1976D2\",\n    cancelColor: \"#1976D2\",\n    clockBackground: \"#CFD8DC\",\n    clockItemColor: \"#212121\",\n    clockItemInnerColor: \"#212121\",\n    handColor: \"#1976D2\",\n    meridiem: false,\n    labels: {\n        cancel:\"Cancel\",\n        ok:\"Ok\",\n    }\n};\n\nconst FaceType = {HOURS: \"hours\", MINUTES: \"minutes\"};\n\nconst css = {\n    clock: \"g-clock\",\n    clockItem: \"g-clock-item\",\n    inner: \"g-clock-inner\",\n    outer: \"g-clock-outer\",\n    item: \"g-clock-item\",\n    hand: \"g-hand-of-a-clock\",\n    fadeOut: \"g-fade-out\",\n    selected: \"g-selected\",\n    active: \"g-active\",\n    submit: \"g-submit\",\n    cancel: \"g-cancel\",\n    hour: \"g-hour\",\n    minute: \"g-minute\"\n};\n\nconst DOM = {\n    headerId: \"g-head\",\n    hoursId: \"g-hours\",\n    minutesId: \"g-minutes\",\n    clockId: \"g-clock\",\n    innerId: \"g-clock-inner\",\n    wrapperId: \"g-clock-wrapper\",\n    dotId: \"g-middle-dot\",\n    handId: \"g-hand-of-a-clock\",\n    buttonsId: \"g-buttons\",\n    submitId: \"g-time-submit\",\n    cancelId: \"g-time-cancel\",\n    gTimeAmId: \"g-time-am\",\n    gTimePmId: \"g-time-pm\"\n};\n\nexport default {clockId, clockConfig: defaultConfig, FaceType};\nexport {css, DOM};","import {DOM} from \"./meta/config\";\n\nexport default class ClockHeader {\n\n    constructor(config) {\n        this.options = config.options;\n        this.time = config.time;\n        this.onHourClicked = config.onHourClicked;\n        this.onMinutesClicked = config.onMinutesClicked;\n\n        this.initView();\n    }\n\n    initView() {\n        this.headerHours = document.getElementById(DOM.hoursId);\n        this.headerHours.onclick = () => {\n            this.toggleActiveToHours();\n            this.onHourClicked();\n        };\n\n        this.headerMinutes = document.getElementById(DOM.minutesId);\n        this.headerMinutes.onclick = () => {\n            this.toggleActiveToMinutes();\n            this.onMinutesClicked();\n        };\n        if (this.options.meridiem) {\n            this.headerAm = document.getElementById(DOM.gTimeAmId);\n            this.headerPm = document.getElementById(DOM.gTimePmId);\n            this.headerAm.onclick = () => {\n                this.toogleActiveMeridiemAm();\n                this.time.meridiem = \"am\";\n            };\n            this.headerPm.onclick = () => {\n                this.toogleActiveMeridiemPm();\n                this.time.meridiem = \"pm\";\n            };\n            if (this.time.meridiem === \"am\") this.toogleActiveMeridiemAm();\n            else if (this.time.meridiem === \"pm\") this.toogleActiveMeridiemPm();\n            else this.defaultToggleActiveMeridiem();\n        }\n\n        this.updateDisplayedTime();\n        this.toggleActiveToHours();\n    }\n\n    toggleActiveToMinutes() {\n        this.toggleActive(this.headerHours, this.headerMinutes);\n    }\n\n    toggleActiveToHours() {\n        this.toggleActive(this.headerMinutes, this.headerHours);\n    }\n\n    toogleActiveMeridiemAm() {\n        this.toggleActive(this.headerPm, this.headerAm);\n        \n    }\n\n    toogleActiveMeridiemPm() {\n        this.toggleActive(this.headerAm, this.headerPm);\n    }\n    \n    defaultToggleActiveMeridiem() {\n        const { hours } = this.time;\n        if (hours < 13) this.toogleActiveMeridiemAm();\n        else this.toogleActiveMeridiemPm();\n    }\n\n    toggleActive(objectToRemoveClass, objectToAddClass) {\n        objectToRemoveClass.style.color = this.options.headerColor;\n        objectToAddClass.style.color = this.options.headerSelected;\n    }\n\n    updateDisplayedTime() {\n        ClockHeader.doUpdateDisplayedTime(this.headerHours, this.time.hours, this.options.meridiem);\n        ClockHeader.doUpdateDisplayedTime(this.headerMinutes, this.time.minutes);\n    }\n\n    static doUpdateDisplayedTime(node, value, meridiem) {\n        if (meridiem && value !== 12) value = value % 12;\n        if (value < 10)\n            node.innerText = \"0\" + value;\n        else node.innerText = value;\n    }\n}","import Config, {css} from \"../meta/config\";\n\nexport default class MinutesFace {\n\n    constructor(items, initialMinutes, updateMinutes) {\n        this.displayed = [\"00\", \"05\", \"10\", \"15\", \"20\", \"25\", \"30\", \"35\", \"40\", \"45\", \"50\", \"55\"];\n        this.options = items.options;\n        this.type = Config.FaceType.MINUTES;\n        this.selected = undefined;\n        this.items = items;\n        this.minutes = initialMinutes;\n        this.updateMinutes = updateMinutes;\n    }\n\n    onEnter() {\n        this.selected = this.findSelected(this.minutes);\n        this.colorSelected();\n        this.updateMinutes(this.minutes, this.minutes * 6);\n    }\n\n    onLeave() {\n        if (this.selected) {\n            this.removeSelected();\n            this.selected = undefined;\n        }\n    }\n\n    selectTime(angle) {\n        if (this.selected)\n            this.removeSelected();\n\n        const minute = Math.round(angle / 6) % 60;\n        this.selected = this.findSelected(minute);\n        this.colorSelected();\n        this.minutes = minute;\n        this.updateMinutes(this.minutes, angle);\n    }\n\n    findSelected(minute) {\n        return (minute % 5 === 0) ? this.items.clockItems[minute / 5] : this.items.outerClockItems[minute];\n    }\n\n    colorSelected() {\n        if (this.isOuter()) {\n            this.selected.classList.add(css.selected);\n            return;\n        }\n        this.selected.style.background = this.options.handColor;\n        this.selected.style.color = \"whitesmoke\";\n    }\n\n    removeSelected() {\n        if (this.isOuter()) {\n            this.selected.classList.remove(css.selected);\n            return;\n        }\n        this.selected.style.background = \"transparent\";\n        this.selected.style.color = this.options.clockItemColor;\n    }\n\n    isOuter() {\n        return this.items.outerClockItems.indexOf(this.selected) > -1;\n    }\n}","import Config from \"../meta/config\";\n\nexport default class HoursFace {\n\n    constructor(items, initialHours, updateHours) {\n        this.displayed = [\"12\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\"];\n        this.displayedInner = [\"00\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\"];\n        this.type = Config.FaceType.MINUTES;\n        this.selected = undefined;\n        this.options = items.options;\n\n        this.items = items;\n        this.hours = initialHours;\n        this.updateHours = updateHours;\n    }\n\n    onEnter() {\n\n        if (this.items.innerClockElem !== null)\n            this.items.innerClockElem.style.display = \"block\";\n        const isInnerClock = this.hours < 13 && this.hours !== 0;\n        const hoursIndex = this.hours % 12;\n        let radius = this.items.radius;\n        if (this.options.meridiem && !isInnerClock) this.selected = this.items.clockItems[hoursIndex];\n        else {\n            this.selected = isInnerClock ? \n                this.items.clockItems[hoursIndex] : \n                this.items.innerClockItems[hoursIndex];\n            radius = isInnerClock ?  radius : radius - 50;\n        }\n        this.colorSelected();\n\n        this.updateHours(this.hours, hoursIndex * 30, radius);\n    }\n\n    onLeave() {\n        if (this.items.innerClockElem !== null)\n            this.items.innerClockElem.style.display = \"none\";\n        if (this.selected) {\n            this.removeSelected();\n            this.selected = undefined;\n        }\n    }\n\n    selectTime(angle, elem) {\n        if (this.selected)\n            this.removeSelected();\n\n        const index = Math.round(angle / 30) % 12;\n        this.selected = (elem === this.items.innerClockElem \n            && this.items.innerClockElem!== undefined\n            ? this.items.innerClockItems\n            : this.items.clockItems)[index];\n\n        this.colorSelected();\n        this.hours = parseInt(this.selected.innerText);\n        const selectedAngle = Math.round(angle / 30) * 30;\n\n        this.updateHours(this.hours, selectedAngle,\n            elem === this.items.innerClockElem && this.items.innerClockElem!== undefined ? this.items.radius - 50 : this.items.radius);\n    }\n\n    colorSelected() {\n        this.selected.style.background = this.options.handColor;\n        this.selected.style.color = \"#ffffff\";\n    }\n\n    removeSelected() {\n        this.selected.style.background = \"transparent\";\n        this.selected.style.color = this.isInner()\n            ? this.options.clockItemInnerColor\n            : this.options.clockItemColor;\n    }\n\n    isInner() {\n        return Array.from(this.items.innerClockItems).indexOf(this.selected) > -1;\n    }\n}","function toRadians(angle) {\n    return angle * (Math.PI / 180);\n}\n\nfunction toDegrees(angle) {\n    return angle * (180 / Math.PI);\n}\n\nfunction findMousePosition(event, object) {\n    const rect = object.getBoundingClientRect();\n    return {\n        x: event.clientX - rect.left,\n        y: event.clientY - rect.top\n    };\n}\n\nfunction delay(t) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, t);\n    });\n}\n\nPromise.delay = function (fn, t) {\n    if (!t) {\n        t = fn;\n        fn = function () {\n        };\n    }\n    return delay(t).then(fn);\n};\n\nPromise.prototype.delay = function (fn, t) {\n    return this.then(function () {\n        return Promise.delay(fn, t);\n    });\n};\n\nexport default {toRadians, toDegrees, findMousePosition};","import Utils from \"../meta/utils\";\nimport {css} from \"../meta/config\";\n\nexport default class ClockFaceCreator {\n\n    constructor(clockElem, innerClockElem, options) {\n        this.clockElem = clockElem;\n        this.innerClockElem = innerClockElem;\n        this.size = {};\n        this.middle = {};\n        this.options = options;\n    }\n\n    create(clockItems, innerClockItems, outerClockItems, face) {\n        ClockFaceCreator.doCreate(clockItems, this.clockElem, span => span.classList.add(css.item));\n        if (!this.options.meridiem) {\n            ClockFaceCreator.doCreate(innerClockItems, this.innerClockElem, (span, i) => {\n                span.classList.add(css.item, css.inner);\n                span.innerText = face.displayedInner[i];\n            });\n        }\n\n        for (let i = 0; i < 60; i++) {\n            const span = document.createElement(\"span\");\n            span.classList.add(css.outer);\n            outerClockItems.push(span);\n            this.clockElem.appendChild(span);\n        }\n    }\n\n    static doCreate(clockItems, clockElem, fun) {\n        for (let i = 0; i < 12; i++) {\n            const span = document.createElement(\"span\");\n            fun(span, i);\n            clockItems.push(span);\n            clockElem.appendChild(span);\n        }\n    }\n\n    calculateSize(clockItems, innerClockItems, outerClockItems) {\n        this.size.width = this.clockElem.offsetWidth;\n        this.size.height = this.clockElem.offsetHeight;\n        this.middle.x = this.size.width / 2;\n        this.middle.y = this.size.height / 2;\n        this.itemsRadius = this.size.width / 2 - 20;\n\n        ClockFaceCreator.doCalculateSize(this.middle.x, this.middle.y, this.itemsRadius, clockItems);\n        if (!this.options.meridiem) {\n            const innerWidth = this.innerClockElem.offsetWidth;\n            const innerHeight = this.innerClockElem.offsetHeight;\n            const middleX = innerWidth / 2;\n            const middleY = innerHeight / 2;\n            ClockFaceCreator.doCalculateSize(middleX, middleY, this.itemsRadius - 40, innerClockItems);\n        }\n        ClockFaceCreator.doCalculateSize(this.middle.x, this.middle.y, this.itemsRadius, outerClockItems);\n    }\n\n    static doCalculateSize(middleX, middleY, radius, items) {\n        const angleQuantum = 360 / items.length;\n        for (let i = 0; i < items.length; i++) {\n\n            const angle = Utils.toRadians(i * angleQuantum);\n            const item = items[i];\n            const itemWidth = item.offsetWidth;\n            const itemHeight = item.offsetHeight;\n\n            item.style.left = ((middleX + Math.sin(angle) * radius) - itemWidth / 2) + \"px\";\n            item.style.bottom = ((middleY + Math.cos(angle) * radius) - itemHeight / 2) + \"px\";\n        }\n    }\n}","import MinutesFace from \"./minutesFace\";\nimport HoursFace from \"./hoursFace\";\nimport Utils from \"../meta/utils\";\nimport Config, {css, DOM} from \"../meta/config\";\nimport ClockFaceCreator from \"./clockFaceCreator\";\n\nexport default class ClockFace {\n\n    constructor(options, initialTime, onTimeUpdate) {\n        this.options = options;\n        this.time = initialTime;\n        this.onTimeUpdate = onTimeUpdate;\n        this.isMouseDown = false;\n        this.clockItems = [];\n        this.innerClockItems = [];\n        this.outerClockItems = [];\n        this.size = {};\n        this.middle = {};\n\n        this.initViews();\n        this.initTimeFaces(initialTime);\n        this.createFace(options);\n\n        this.hoursFace.items.radius = this.itemsRadius;\n\n        this.currentFace = this.hoursFace;\n        this.changeDisplayed(this.currentFace.displayed);\n    }\n\n    initViews() {\n        this.clockElem = document.getElementById(DOM.clockId);\n        this.innerClockElem = (this.options.meridiem) ? null : document.getElementById(DOM.innerId);\n        this.handOfAClock = document.getElementById(DOM.handId);\n\n        this.clockElem.onmousedown = () => this.isMouseDown = true;\n        this.clockElem.onmouseup = () => {this.isMouseDown = false;\n            this.toggleToMinutes();\n        };\n\n        this.handOfAClock.onmouseup = (e) => e.stopPropagation();\n        this.handOfAClock.onmousemove = (e) => e.stopPropagation();\n        this.handOfAClock.onclick = (e) => e.stopPropagation();\n\n        this.clockElem.onmousemove = (e) => this.selectTime(e, false, this.clockElem);\n        this.clockElem.onclick = (e) => this.selectTime(e, true, this.clockElem);\n\n        if (!this.options.meridiem) {\n            this.innerClockElem.onmousemove = (e) => this.selectTime(e, false, this.innerClockElem);\n            this.innerClockElem.onclick = (e) => this.selectTime(e, true, this.innerClockElem);\n        }\n    }\n\n    initTimeFaces(initialTime) {\n        this.minutesFace = new MinutesFace({\n            options: this.options,\n            clockItems: this.clockItems,\n            outerClockItems: this.outerClockItems\n        }, initialTime.minutes, (minutes, angle) => this.updateMinutes(minutes, angle));\n\n        this.hoursFace = new HoursFace({\n            options: this.options,\n            innerClockItems: this.innerClockItems,\n            clockItems: this.clockItems,\n            innerClockElem: this.innerClockElem\n        }, initialTime.hours, (hours, angle, radius) => this.updateHours(hours, angle, radius));\n    }\n\n    onStart() {\n        this.currentFace.onEnter();\n    }\n\n    createFace() {\n        const clockFaceCreator = new ClockFaceCreator(this.clockElem, this.innerClockElem, this.options);\n        clockFaceCreator.create(this.clockItems, this.innerClockItems, this.outerClockItems, this.hoursFace);\n        clockFaceCreator.calculateSize(this.clockItems, this.innerClockItems, this.outerClockItems);\n\n        this.size = clockFaceCreator.size;\n        this.middle = clockFaceCreator.middle;\n        this.itemsRadius = clockFaceCreator.itemsRadius;\n    }\n\n    selectTime(event, isMouseDown, elem) {\n        if (!(isMouseDown || this.isMouseDown))\n            return;\n        const mouse = Utils.findMousePosition(event, this.clockElem);\n        const x = mouse.x - this.middle.x;\n        const y = this.middle.y - mouse.y;\n        let angle = 90 - Utils.toDegrees(Math.atan(y / x));\n        if (x < 0) angle += 180;\n\n        this.currentFace.selectTime(angle, elem);\n        event.stopPropagation();\n    }\n\n    changeDisplayed(array) {\n        for (let i = 0; i < this.clockItems.length; i++)\n            this.clockItems[i].innerText = array[i];\n    }\n\n    onEachClockElement(fun) {\n        [].forEach.call(this.clockItems, c => fun(c));\n    }\n\n    updateMinutes(minutes, angle) {\n        this.time.minutes = minutes;\n        this.calculateHandOfTheClock(angle, this.itemsRadius);\n        this.onTimeUpdate(this.time, Config.FaceType.MINUTES);\n    }\n\n    updateHours(hours, angle, radius) {\n        this.time.hours = hours;\n        this.calculateHandOfTheClock(angle, radius);\n        this.onTimeUpdate(this.time, Config.FaceType.HOURS);\n    }\n\n    calculateHandOfTheClock(angle, size = this.itemsRadius) {\n        this.handOfAClock.style.transform = `rotate(${angle - 90}deg)`;\n        this.handOfAClock.style.width = size + \"px\";\n    }\n\n    toggleToHours() {\n        this.minutesFace.onLeave();\n        this.toggleTime(this.hoursFace);\n    }\n\n    toggleToMinutes() {\n        this.hoursFace.onLeave();\n        this.toggleTime(this.minutesFace);\n    }\n\n    toggleTime(face) {\n        if (this.currentFace !== face) {\n            this.onEachClockElement(c => c.classList.add(css.fadeOut));\n            this.handOfAClock.classList.add(css.fadeOut);\n            Promise.delay(() => {\n                this.onEachClockElement(c => c.classList.remove(css.fadeOut));\n                this.handOfAClock.classList.remove(css.fadeOut);\n                this.changeDisplayed(face.displayed);\n                this.currentFace = face;\n                this.onEachClockElement(c => this.removeSelected(c));\n                face.onEnter();\n            }, 300);\n        }\n    }\n\n    removeSelected(c) {\n        c.classList.remove(css.selected);\n        c.style.background = \"transparent\";\n        c.style.color = this.options.clockItemColor;\n    }\n}","import ClockHeader from \"./clockHeader\";\nimport ClockFace from \"./face/clockFace\";\nimport Config, {DOM} from \"./meta/config\";\nimport formatTime from \"./timeFormatter\";\n\nexport default class Clock {\n\n    constructor(options, time) {\n        this.options = options;\n\n        this.initView();\n        this.time = time;\n        this.initElements();\n    }\n\n    initView() {\n        this.submitButton = document.getElementById(DOM.submitId);\n        this.submitButton.onclick = () => {\n            const time = this.time;\n            time.formatted = () => formatTime(time, this.options.meridiem);\n            this.options.onSubmit(time);\n            Clock.dispose();\n        };\n\n        this.cancelButton = document.getElementById(DOM.cancelId);\n        this.cancelButton.onclick = () => {\n            this.options.onCancel();\n            Clock.dispose();\n        };\n    }\n\n    initElements() {\n        this.header = new ClockHeader({\n            options: this.options,\n            time: this.time,\n            onHourClicked: () => this.toggleToHours(),\n            onMinutesClicked: () => this.toggleToMinutes()\n        });\n        this.clockFace = new ClockFace(this.options, this.time, (time, type) => this.onTimeUpdate(time, type));\n    }\n\n    onStart() {\n        this.clockFace.onStart();\n    }\n\n    toggleToHours() {\n        this.clockFace.toggleToHours();\n    }\n\n    toggleToMinutes() {\n        this.clockFace.toggleToMinutes();\n    }\n\n    onTimeUpdate(time, type) {\n        this.time = time;\n        this.header.time = time;\n        this.header.updateDisplayedTime();\n        if (type === Config.FaceType.MINUTES)\n            this.header.toggleActiveToMinutes();\n\n    }\n\n    static dispose() {\n        document.body.removeChild(document.getElementById(Config.clockId));\n    }\n}","import {css, DOM} from \"./meta/config\";\n\nexport default function styleColors(options) {\n    document.getElementById(DOM.headerId).style.background = options.headerBackground;\n    document.getElementById(DOM.headerId).style.color = options.headerColor;\n    document.getElementById(DOM.wrapperId).style.background = options.wrapperBackground;\n    document.getElementById(DOM.clockId).style.background = options.clockBackground;\n    document.getElementById(DOM.handId).style.background = options.handColor;\n    document.getElementById(DOM.dotId).style.background = options.handColor;\n    document.getElementById(DOM.buttonsId).style.background = options.footerBackground;\n    document.getElementById(DOM.submitId).style.color = options.submitColor;\n    document.getElementById(DOM.cancelId).style.color = options.cancelColor;\n\n    changeColor(css.clockItem, options.clockItemColor);\n    changeColor(css.inner, options.clockItemInnerColor);\n    changeColor(css.outer, options.handColor, \"borderColor\");\n}\n\nfunction changeColor(className, color, property = \"color\") {\n    const items = Array.from(document.getElementsByClassName(className));\n    for (const item of items)\n        item.style[property] = color;\n}\n","import clockHtml from \"./meta/clockHtml\";\nimport Config from \"./meta/config\";\nimport Clock from \"./clock\";\nimport styleColors from \"./colorStylists\";\nimport getTime from \"./timeExtractor\";\n\n\nexport default function showPicker(config = {}) {\n    \n    const options = Object.assign({}, Config.clockConfig, config);\n    createDom(options);\n    const time = getTime(options.time, options.meridiem);\n\n    const clock = new Clock(options, time);\n    styleColors(options);\n    clock.onStart();\n}\n\n\nfunction createDom(options) {\n    if (document.getElementById(Config.clockId))\n        throw Error(\"There is already one running grudus-timepicker instance!\");\n\n    const clockDiv = document.createElement(\"div\");\n    clockDiv.id = Config.clockId;\n    clockDiv.innerHTML = clockHtml(options);\n    document.body.appendChild(clockDiv);\n}\n","import formatTime from \"./timeFormatter\";\nimport showPicker from \"./timepickerCreator\";\n\nexport default {\n    showPicker: (config) => showPicker(config),\n    format: (time) => formatTime(time)\n};\n\n"],"names":["hoursRegex","minutesRegex","regex","extractTime","date","hasMeridiem","fromDate","Date","test","hours","minutes","meridiem","undefined","length","parseInt","fromRegex","TypeError","JSON","stringify","parsed","exec","getHours","getMinutes","getTimeWithMeridiem","time","extractedTime","options","arrayTemplate","push","join","nextTemplate","labels","cancel","ok","concat","clockId","defaultConfig","FaceType","HOURS","MINUTES","css","DOM","clockConfig","ClockHeader","config","onHourClicked","onMinutesClicked","initView","headerHours","document","getElementById","hoursId","onclick","toggleActiveToHours","headerMinutes","minutesId","toggleActiveToMinutes","headerAm","gTimeAmId","headerPm","gTimePmId","toogleActiveMeridiemAm","toogleActiveMeridiemPm","defaultToggleActiveMeridiem","updateDisplayedTime","toggleActive","objectToRemoveClass","objectToAddClass","style","color","headerColor","headerSelected","doUpdateDisplayedTime","node","value","innerText","MinutesFace","items","initialMinutes","updateMinutes","displayed","type","Config","selected","findSelected","colorSelected","removeSelected","angle","minute","Math","round","clockItems","outerClockItems","isOuter","classList","add","background","handColor","remove","clockItemColor","indexOf","HoursFace","initialHours","updateHours","displayedInner","innerClockElem","display","isInnerClock","hoursIndex","radius","innerClockItems","elem","index","selectedAngle","isInner","clockItemInnerColor","Array","from","toRadians","PI","toDegrees","findMousePosition","event","object","rect","getBoundingClientRect","clientX","left","clientY","top","delay","t","Promise","resolve","fn","then","prototype","ClockFaceCreator","clockElem","size","middle","face","doCreate","span","item","i","inner","createElement","outer","appendChild","width","offsetWidth","height","offsetHeight","x","y","itemsRadius","doCalculateSize","innerWidth","innerHeight","middleX","middleY","fun","angleQuantum","Utils","itemWidth","itemHeight","sin","bottom","cos","ClockFace","initialTime","onTimeUpdate","isMouseDown","initViews","initTimeFaces","createFace","hoursFace","currentFace","changeDisplayed","innerId","handOfAClock","handId","onmousedown","onmouseup","toggleToMinutes","e","stopPropagation","onmousemove","selectTime","minutesFace","onEnter","clockFaceCreator","create","calculateSize","mouse","atan","array","forEach","call","c","calculateHandOfTheClock","transform","onLeave","toggleTime","onEachClockElement","fadeOut","Clock","initElements","submitButton","submitId","formatted","formatTime","onSubmit","dispose","cancelButton","cancelId","onCancel","header","toggleToHours","clockFace","onStart","body","removeChild","styleColors","headerId","headerBackground","wrapperId","wrapperBackground","clockBackground","dotId","buttonsId","footerBackground","submitColor","cancelColor","clockItem","changeColor","className","property","getElementsByClassName","showPicker","Object","assign","getTime","clock","createDom","Error","clockDiv","id","innerHTML","clockHtml"],"mappings":"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"}